<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class MethodBodyReader
   </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class MethodBodyReader
   ">
    <meta name="generator" content="docfx 2.40.7.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Harmony.ILCopying.MethodBodyReader">
  
  
  <h1 id="Harmony_ILCopying_MethodBodyReader" data-uid="Harmony.ILCopying.MethodBodyReader" class="text-break">Class MethodBodyReader
  </h1>
  <div class="markdown level0 summary"><p>A method body reader</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">MethodBodyReader</span></div>
  </div>
  <div class="inheritedMembers">
    <h5>Inherited Members</h5>
    <div>
      <span class="xref">System.Object.ToString()</span>
    </div>
    <div>
      <span class="xref">System.Object.Equals(System.Object)</span>
    </div>
    <div>
      <span class="xref">System.Object.Equals(System.Object, System.Object)</span>
    </div>
    <div>
      <span class="xref">System.Object.ReferenceEquals(System.Object, System.Object)</span>
    </div>
    <div>
      <span class="xref">System.Object.GetHashCode()</span>
    </div>
    <div>
      <span class="xref">System.Object.GetType()</span>
    </div>
    <div>
      <span class="xref">System.Object.MemberwiseClone()</span>
    </div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Harmony.ILCopying.html">Harmony.ILCopying</a></h6>
  <h6><strong>Assembly</strong>: 0Harmony.dll</h6>
  <h5 id="Harmony_ILCopying_MethodBodyReader_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class MethodBodyReader</code></pre>
  </div>
  <h3 id="constructors">Constructors
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/pardeike/Harmony/new/master/apiSpec/new?filename=Harmony_ILCopying_MethodBodyReader__ctor_System_Reflection_MethodBase_System_Reflection_Emit_ILGenerator_.md&amp;value=---%0Auid%3A%20Harmony.ILCopying.MethodBodyReader.%23ctor(System.Reflection.MethodBase%2CSystem.Reflection.Emit.ILGenerator)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/pardeike/Harmony/blob/master/Harmony/ILCopying/MethodCopier.cs/#L96">View Source</a>
  </span>
  <a id="Harmony_ILCopying_MethodBodyReader__ctor_" data-uid="Harmony.ILCopying.MethodBodyReader.#ctor*"></a>
  <h4 id="Harmony_ILCopying_MethodBodyReader__ctor_System_Reflection_MethodBase_System_Reflection_Emit_ILGenerator_" data-uid="Harmony.ILCopying.MethodBodyReader.#ctor(System.Reflection.MethodBase,System.Reflection.Emit.ILGenerator)">MethodBodyReader(MethodBase, ILGenerator)</h4>
  <div class="markdown level1 summary"><p>Creates a method body reader</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public MethodBodyReader(MethodBase method, ILGenerator generator)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Reflection.MethodBase</span></td>
        <td><span class="parametername">method</span></td>
        <td><p>The original method</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Reflection.Emit.ILGenerator</span></td>
        <td><span class="parametername">generator</span></td>
        <td><p>The IL generator</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/pardeike/Harmony/new/master/apiSpec/new?filename=Harmony_ILCopying_MethodBodyReader_DeclareVariables_System_Reflection_Emit_LocalBuilder___.md&amp;value=---%0Auid%3A%20Harmony.ILCopying.MethodBodyReader.DeclareVariables(System.Reflection.Emit.LocalBuilder%5B%5D)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/pardeike/Harmony/blob/master/Harmony/ILCopying/MethodCopier.cs/#L152">View Source</a>
  </span>
  <a id="Harmony_ILCopying_MethodBodyReader_DeclareVariables_" data-uid="Harmony.ILCopying.MethodBodyReader.DeclareVariables*"></a>
  <h4 id="Harmony_ILCopying_MethodBodyReader_DeclareVariables_System_Reflection_Emit_LocalBuilder___" data-uid="Harmony.ILCopying.MethodBodyReader.DeclareVariables(System.Reflection.Emit.LocalBuilder[])">DeclareVariables(LocalBuilder[])</h4>
  <div class="markdown level1 summary"><p>Declare local variables</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void DeclareVariables(LocalBuilder[] existingVariables)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Reflection.Emit.LocalBuilder</span>[]</td>
        <td><span class="parametername">existingVariables</span></td>
        <td><p>The existing variables to copy</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/pardeike/Harmony/new/master/apiSpec/new?filename=Harmony_ILCopying_MethodBodyReader_FinalizeILCodes_System_Collections_Generic_List_System_Reflection_MethodInfo__System_Collections_Generic_List_System_Reflection_Emit_Label__System_Collections_Generic_List_Harmony_ILCopying_ExceptionBlock__.md&amp;value=---%0Auid%3A%20Harmony.ILCopying.MethodBodyReader.FinalizeILCodes(System.Collections.Generic.List%7BSystem.Reflection.MethodInfo%7D%2CSystem.Collections.Generic.List%7BSystem.Reflection.Emit.Label%7D%2CSystem.Collections.Generic.List%7BHarmony.ILCopying.ExceptionBlock%7D)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/pardeike/Harmony/blob/master/Harmony/ILCopying/MethodCopier.cs/#L258">View Source</a>
  </span>
  <a id="Harmony_ILCopying_MethodBodyReader_FinalizeILCodes_" data-uid="Harmony.ILCopying.MethodBodyReader.FinalizeILCodes*"></a>
  <h4 id="Harmony_ILCopying_MethodBodyReader_FinalizeILCodes_System_Collections_Generic_List_System_Reflection_MethodInfo__System_Collections_Generic_List_System_Reflection_Emit_Label__System_Collections_Generic_List_Harmony_ILCopying_ExceptionBlock__" data-uid="Harmony.ILCopying.MethodBodyReader.FinalizeILCodes(System.Collections.Generic.List{System.Reflection.MethodInfo},System.Collections.Generic.List{System.Reflection.Emit.Label},System.Collections.Generic.List{Harmony.ILCopying.ExceptionBlock})">FinalizeILCodes(List&lt;MethodInfo&gt;, List&lt;Label&gt;, List&lt;ExceptionBlock&gt;)</h4>
  <div class="markdown level1 summary"><p>Finalize all codes and apply all transpilers</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void FinalizeILCodes(List&lt;MethodInfo&gt; transpilers, List&lt;Label&gt; endLabels, List&lt;ExceptionBlock&gt; endBlocks)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Collections.Generic.List</span>&lt;<span class="xref">System.Reflection.MethodInfo</span>&gt;</td>
        <td><span class="parametername">transpilers</span></td>
        <td><p>The transpilers to apply</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Collections.Generic.List</span>&lt;<span class="xref">System.Reflection.Emit.Label</span>&gt;</td>
        <td><span class="parametername">endLabels</span></td>
        <td><p>The end labels</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Collections.Generic.List</span>&lt;<a class="xref" href="Harmony.ILCopying.ExceptionBlock.html">ExceptionBlock</a>&gt;</td>
        <td><span class="parametername">endBlocks</span></td>
        <td><p>The end blocks</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/pardeike/Harmony/new/master/apiSpec/new?filename=Harmony_ILCopying_MethodBodyReader_GetInstructions_System_Reflection_Emit_ILGenerator_System_Reflection_MethodBase_.md&amp;value=---%0Auid%3A%20Harmony.ILCopying.MethodBodyReader.GetInstructions(System.Reflection.Emit.ILGenerator%2CSystem.Reflection.MethodBase)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/pardeike/Harmony/blob/master/Harmony/ILCopying/MethodCopier.cs/#L83">View Source</a>
  </span>
  <a id="Harmony_ILCopying_MethodBodyReader_GetInstructions_" data-uid="Harmony.ILCopying.MethodBodyReader.GetInstructions*"></a>
  <h4 id="Harmony_ILCopying_MethodBodyReader_GetInstructions_System_Reflection_Emit_ILGenerator_System_Reflection_MethodBase_" data-uid="Harmony.ILCopying.MethodBodyReader.GetInstructions(System.Reflection.Emit.ILGenerator,System.Reflection.MethodBase)">GetInstructions(ILGenerator, MethodBase)</h4>
  <div class="markdown level1 summary"><p>NOTE: you cannot simply &quot;copy&quot; ILInstructions from a method. They contain references to
local variables which must be CREATED on an ILGenerator or else they are invalid when you
want to use the ILInstruction. If you are really clever, you can supply a dummy generator
and edit out all labels during the processing but that might be more trickier than you think</p>
<p>In order to copy together a bunch of method parts within a transpiler, you have to pass in
your current generator that builds your new method</p>
<p>You will end up with the sum of all declared local variables of all methods you run
GetInstructions on or use a dummy generator but edit out the invalid labels from the codes
you copy.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static List&lt;ILInstruction&gt; GetInstructions(ILGenerator generator, MethodBase method)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Reflection.Emit.ILGenerator</span></td>
        <td><span class="parametername">generator</span></td>
        <td><p>The generator.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Reflection.MethodBase</span></td>
        <td><span class="parametername">method</span></td>
        <td><p>The method.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Collections.Generic.List</span>&lt;<a class="xref" href="Harmony.ILCopying.ILInstruction.html">ILInstruction</a>&gt;</td>
        <td><p>The instructions.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/pardeike/Harmony/new/master/apiSpec/new?filename=Harmony_ILCopying_MethodBodyReader_ReadInstructions.md&amp;value=---%0Auid%3A%20Harmony.ILCopying.MethodBodyReader.ReadInstructions%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/pardeike/Harmony/blob/master/Harmony/ILCopying/MethodCopier.cs/#L135">View Source</a>
  </span>
  <a id="Harmony_ILCopying_MethodBodyReader_ReadInstructions_" data-uid="Harmony.ILCopying.MethodBodyReader.ReadInstructions*"></a>
  <h4 id="Harmony_ILCopying_MethodBodyReader_ReadInstructions" data-uid="Harmony.ILCopying.MethodBodyReader.ReadInstructions">ReadInstructions()</h4>
  <div class="markdown level1 summary"><p>Read and parse IL codes</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void ReadInstructions()</code></pre>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/pardeike/Harmony/new/master/apiSpec/new?filename=Harmony_ILCopying_MethodBodyReader.md&amp;value=---%0Auid%3A%20Harmony.ILCopying.MethodBodyReader%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/pardeike/Harmony/blob/master/Harmony/ILCopying/MethodCopier.cs/#L49" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
